# JavaScript 関数型プログラミングメモ

## 純粋関数

- 入力値のみに依存する
  - 隠された値や外部スコープの値には依存しない
- スコープの外にある値を一切変更しない
  - グローバルオブジェクト
  - 参照渡し

一般的に、関数が外部のリソースを読み書きする時に、関数は副作用を持つ

副作用を伴う [showStudent](./src/1-2-2_bad_show_student.js)
改善した [showStudent](./src/1-2-2_good_show_student.js)

HTML オブジェクトのやり取りを専用の関数 `append` に移したことにより、不順な処理から純粋な処理を分離できた
処理結果が一貫性を持ち、予測可能になる => 参照等価性

## 等式推論

全てのプログラムは、入力値を処理して戻り地を返す関数のセットとして定義できると仮定すると

```
Program = [Input] + [func1, func2, ...] -> Output
```

func1, func2, ... が純粋関数とすると、[val1, val2, ...] とインライニングできる。
純粋関数なので入力が一定なら戻り値も一定

## 関数型プログラミング

- 分解 (プログラムを小さな処理単位に分ける)
- 合成 (小さい処理単位を結合する)

`showStudent` は `find` と `csv` と `append` に分解でき、それらを合成してつくられる

関数 f と g の合成 を `f(g(x))` と書く
f の引数と g の戻り値の数と型が揃っていれば、 f と g は合成可能

合成 -> `compose`

## 非同期に対する対処

[badVerify](./src/1-3-3_bad_verify.js)
[goodVerify](./src/1-3-3_good_verify.js)
